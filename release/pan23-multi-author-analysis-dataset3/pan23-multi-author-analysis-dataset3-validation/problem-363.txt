I can’t speak to the origins of the artisanal production of firearms in Ghana but there is at least one example of a precolonial West African power attempting to create a domestic firearms industry with some success – the Dyula Empire of Samori Ture. Technicians associated with other precolonial rulers such as Abd al-Kader (in Algeria) or al-Hajj Umar or Ahmad Seku (who ruled regions around present day Mali) could repair and maintain firearms and cast ammunition but they could not create their own guns [1]. What made the Samorian arms industry so special then? In short, organization and knowledge.
The penetration of firearms into West Africa was very uneven; some parts like the Gold and Slave Coasts were riven by gunpowder warfare as you say, but you have places like northern Nigeria where firearms are still an exotic novelty in the early nineteenth century - for example, the garrison of Sokoto in 1826 had seven barely working muskets in their arsenal and in the same year, a Sokoto army, supposedly 50 or 60 thousand strong, had fewer than 50 guns among them (their opposition had exactly one musket). Additionally, the armies of the Fulani Jihads (which occurred throughout the interior of West Africa) of the late 18th and early 19th centuries relied heavily on archery. The point to all of this is that by the time firearms became militarily relevant to these societies, the various European powers were already making inroads into the interior of Africa with increasingly advanced guns.
The answer to that question is the same as the answer to your question: African smiths could have made muskets, but it was simply much much cheaper for West African consumers to purchase inexpensive guns from Britain, France, or Denmark where in the 1700s these products were produced in large numbers at near-industrial scale.
So, somewhat similar to North American frontier case, European firearm manufacturers and merchant firms were relying on craft specialization and the building of "parts guns" to deliver products at very low costs to the West African market, because buyers were extremely cost-conscious.
We have journals from European traders that comment on how African customers had strong preference for inexpensive, low quality guns. Frequently these European journals comment on how difficult it was to try and sell more expensive, and more reliable, muskets because there was such price-consciousness from African consumers.