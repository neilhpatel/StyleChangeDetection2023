Castle doctrine is totally different. Castle doctrine basically says your home is your castle, and you can defend it with deadly force with no duty to retreat from an invader or use less lethal means of defense.
In a castle-doctrine jurisdiction, generally you have a duty to retreat when outside of your home (and sometimes vehicle). If you use force in self-defence when you could retreat instead, you're breaking the law, unless you're inside your home at the time.
In a stand-your-ground jurisdiction, generally you have no duty to retreat. You can opt to use force in self-defence even if you have the option of trying to get away from the attack.
In _any_ jurisdiction, your use of force in self-defence has to be reasonable under the circumstances, regardless of your duty to retreat.
Stand your Ground laws, or a lack thereof, refer to a duty to retreat, not to remove your ability to defense yourself from a threat.
Some jurisdictions go even further, and require a duty to retreat under all circumstances. If you have the option not to use force, you're expected to use it - rely on law enforcement, not violence, in other words.