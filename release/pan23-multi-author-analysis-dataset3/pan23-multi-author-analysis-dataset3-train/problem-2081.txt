Now, even at their most obscured, these tweets do carry a grain of truth. The US military was responsible for a fair amount of material damage to Manila. Originally, General Douglas MacArthur, who was aware of both the close proximity of civilians and civilian centers, had issued a blanket nixing of air and artillery usage. However, that command didnâ€™t last long; the original siege began around the 2nd of February, and by the 10th, artillery from tanks and Howitzer cannons was being used to clear out Japanese positions. Robert Smith, writing for the US Office of Military History, stated that the general perception within command was that continued door-to-door operations would lead to more US military casualties, and while the liberation of Manila was the objective, Gen. MacArthur rather quickly decided that it would be done expediently, if at the expense of caution. US military artillery almost completely razed Intramuros, the old walled-city section of Manila, which was being used as one of the final Japanese hold-out points. The US military also utilized white phosphorus munitions, which are highly flammable and corrosive, and are now illegal; however, at the time, WP was a staple of a chemical weapon arsenal.
From the first, the use of white phosphorus munitions under the Protocol is not barred except for in 4 specific circumstances, dealing with potential harm to civilians. Thus, there is no bar on military targets from the get-go, unless those targets are near civilians, in which case the Protocol imposes limits. There is, however, also a question as to whether white phosphorus qualifies as an incendiary weapon. As laid out , white phosphorus's purpose is often not precisely the sort that is considered "incendiary" under the Protocol. The article goes on to argue that white phosphorus also doesn't meet the "toxic" requirement of the Chemical Weapons Convention, nor is it listed in CWC annexes.
The same points are elaborated , though it also argues that customary international law binds non-parties to the Protocol from using white phosphorus as an incendiary weapon. Thus, white phosphorus is not banned at all, nor is it illegal; it simply cannot be used as a direct weapon in some interpretations, but not all. To apply that forward, when the white phosphorus grenades were used to clear out positions, or when they were used to set fires, that would be illegal under the treaties discussed above. However, the US also used white phosphorus munitions to mark areas for targeting, which would be legal so long as civilians were out of harm's way. And if the goal was merely to set fire to enemy forces, not kill them with white phosphorus's toxicity, that would be legal as well, even if the article I initially linked isn't taken as truth. There is, at the minimum, sufficient debate that it warrants mention that white phosphorus may not be illegal outright, as many today believe.
I'd like to mention that using white phosphorus was not banned outright by the Chemical Weapons Convention or by the Protocol on Prohibitions or Restrictions on the Use of Incendiary Weapons. The common belief that it is illegal under international law stems from some common misconceptions on its use, and I want to clarify those somewhat for readers.