In 2001 Taliban and Ahl-i Hadith allied to wage a common Jihad to resist the invasion from the USA.
Also in the 1990s the ruling Taliban had pursued a policy of suppressing Salafism. Which could play a role. Salafist scholars was that Taliban was led by Maturidi Sufis. As a result of the unofficial Taliban bans on Ahl-i Hadith during the 1996-2001 era.
From what I can gather they fight over territory. mostly in eastern Afghanistan, but clashes have also occurred between the Taliban and IS-KP cells which are located in the north-west and south-west.
Taliban is very much misunderstood in the West; they're primarily a tribal (pashtun) group, which is native to Afghanistan and parts of Western Pakistan. Yes, they're severely retrograde religions fanatics, but there are some strong ideological differences with extremist Salafism.
The IS brand of Salafism insists that the only legitimate political leadership (for all humanity) possible is by a Caliph who is a direct male descendant of Muhammed. Period. Which excludes all Pashtuns (and many (all) other ethnic groups; particularly Kurds and Iranians). So in a way this is about racism, and ethnicity, rather than religion. Religion is just the convenient window dressing.