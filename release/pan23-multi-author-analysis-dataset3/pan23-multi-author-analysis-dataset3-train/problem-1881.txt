In most provinces (every province I've ever had reason to look at, including both BC and Ontario), owners are automatically liable for injuries caused by their dog. That liability can be reduced if the victim provoked the dog or in some way caused the dog to attack them, but that's always fact-sensitive and kids reaching through fences would normally not reduce your liability at all.
Yeah, not only is it a liability risk - but bratty children could hurt your dog, and well-intentioned children could feed your dog something toxic to them like bubblegum or garlic.
You’re letting them pet your dog, so if your dog injures someone you are responsible for it, especially since they’re kids. I would put up a fence blocking them or some other device preventing your dog from getting to the fence line.
If you are able, keep the puppy inside during times when kids will be along the fence line. Maybe the teachers need to do a 'puppy education' class that explains why puppies might nip and why they shouldn't be fed anything except their own puppy food. Having a separate fence may not be enough of a deterrent as the children might try to throw things over knowing there is an animal on the other side.