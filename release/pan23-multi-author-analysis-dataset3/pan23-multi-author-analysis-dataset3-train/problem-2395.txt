An agreement between the two of you for child support and parenting time is not on par with a court order. Legally, without a court order stating otherwise, you’re a stranger to this teen.
No, both parents do not have custody by default in Minnesota (and a handful of other states) if they are unmarried. The mother has sole custody until a court order says otherwise. OP does not have legal custody of his own child.
Other posters are wrong. In MN, mom has sole custody, physical and legal, which includes all medical decision making, unless there’s a court order that says otherwise.
In MN, unmarried mothers have sole custody of their children and full decision-making rights by default. If OP hasn't established paternity through court order or by signing a recognition of parentage form with the mother, then he is not considered a legal parent. The fact that his name may be on the birth certificate doesn't automatically grant him any rights, including those pertaining to medical treatment.
You should consult a family practice attorney before getting your son vaccinated. As you've learned the hard way, having an informal arrangement re. custody and child support works until it doesn't. In MN, being an unmarried father places you at a distinct disadvantage as the state automatically recognizes your ex's rights (and responsibilities) but not yours. The only way to remedy this is to establish paternity and go to court.