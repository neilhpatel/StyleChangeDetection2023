Without Congressional intervention, they need all 12 unions to vote yes, because they have a framework in place specifically to avoid the companies trying to pit the unions against each other like that.
So what's going in is that the companies are negotiating with multiple unions at once to get a deal that covers all their workers, so they only have to get a majority of the Unions, not all of them, to force a deal through.
The unions are doing the right thing by raising hell, the legislators are doing the right thing by passing the best bill they can under the current circumstances; if they all wait and hope that they can get something better down the line, they risk getting nothing at all.
Instead, the message that was sent is that rail workers will NEVER be allowed to strike ever again, so the companies are free to stonewall negotiations, offer the shittiest contracts possible, and even if the unions reject the offer, Congress will force it through.
Look up the history of rail strikes and don't think for one minute that the public will rally for the unions or that republicans won't call unions socialists trying to crush the economy.