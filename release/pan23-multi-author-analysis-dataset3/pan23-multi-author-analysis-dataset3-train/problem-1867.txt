The US will absolutely not allow Kurdistan to be attacked by Iran under any circumstances. In any case, this would be disastrous to Iran, who would immediately be faced with Kurdish resistance like they’ve never seen before.
If Iran hostilely attacks Iraq, specifically Iraqi Kurdistan, I propose that the Iraqi’s and Kurd’s band together, to declare total Kurdish Independence from Iran.
If they do decide to invade Kurdish Iraq, it’ll probably lead to a larger armed uprising in the ethnic Kurdish areas of Iran, which could embolden other ethnic groups like in Baluchistan to follow suit. It will probably destabilize the Middle East even further because Iran could call it’s proxies to engage in conflict with the Kurdish opposition groups in Iraq and Syria.
So, if Iran goes after Kurds, Turkey will side with Iran, the USA will use this to arm the Kurds to the teeth and unleash havoc on anything Turkish and Iranian in the region. Of course the USA cannot openly sponsor the Kurds so I am not sure if and how this can pan out. I am certain however that the USA (and others) are looking to trim Turkey's emerging power broker status in the region.
But, due to Turkey being in NATO and so far acting mostly against Russia (self interest of course, but coinciding with the western interests), nobody can go and challenge Turkey outright. For this reason we have proxy conflicts, and one way to slap Turkey down without doing it along the established front lines is by encouraging a peripheral conflict which will expose Turkey to western counter interests.