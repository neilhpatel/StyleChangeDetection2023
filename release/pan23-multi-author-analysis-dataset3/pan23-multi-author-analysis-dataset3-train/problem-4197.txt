In the years preceding the Iranian Revolution, not all opposition was religious in nature. Many different people of various backgrounds and ideological convictions were against the Shah. Some of them advocated the replacement of regime with an Islamic one, but this was not necessarily the only one. Others advocated the implementation of some aspects of Islamic jurisprudence, but in a modernized setting. There are two important writers, Ali Shariati and Mehdi Bazargan, who combined their Islamic theology with modern political philosophies: Shariati mostly looked towards Marxism as a sources of inspiration, whereas Bazargan was a liberal, more concerned with justice as a whole. Both of them spoke to large segments of the Iranian population.
Ruhollah Khomeini was one of these people. Born in September 1902, he studied in Qom (the main center of Shi'a theology in Iran) and became a fairly well-known and respected scholar. His political activity began already in 1944 and begins to develop his theory of vilayet-e faqih, "governance of the \[religious\] jurist". During the early 60s his political activity became more intense and he went into exile in 1964, only returning to Iran weeks before the final collapse of the Iranian Revolution. At this time, Khomeini had become something of a superstar in Iran, although there were many members of the opposition who regarded him with a degree of suspicion, and in hindsight we can say they were probably right to do so.
In short, the transition to the Islamic Republic was not one that was necessarily the only result of various factors that led to the Iranian Revolution, but rather a combination of these factors plus the political competence of Ruhollah Khomeini, who would become Iran's first Supreme Leader.
The Iranian revolution seems to follow a kind of 20th century patterns of reactionary-revolutionary Islamic movements but it also has many unique and specifically Iranian characteristics. What's your view on the ableness of the Pahlavi as monarchs and the degree to which their (mis)rule served to delegitimize monarchy?