There's a lot that we can say about this, but I'll try to keep it compact. The Code of Hammurabi (CoH) lists a few rulings regarding innkeepers: if they don't report seditious activity in their inn, they're to be put to death. If they overcharge their customers for the beer that they sell, they're to be put to death. If a particular kind of priestess quits her job and opens an inn... you guessed it. What's interesting here is that the CoH assumes that innkeepers are female (or at least it only discusses female innkeepers), so we can assume that the job more generally was considered to be a woman's job. We see this perhaps reflected in one of the Gilgamesh Epic's supporting characters - the goddess Siduri, the brewer of the gods, is effectively a deified version of this role. Going back to Hammurabi, the fact that he acknowledges the role in four separate rulings - one of which involves sedition - suggests its importance to Mesopotamian society. That's not to say necessarily that it was considered a high-status role during this time, but it helps demonstrate that women in Mesopotamia weren't exclusively relegated to the household.
I've heard that the position of women considerably deteriorated in Mesopotamian society starting around the 2nd Millennium BC, is this true, and if so, why?
It's important to keep in mind that the opinions quoted are from much later - the Neo-Assyrian and Neo-Babylonian empires of the mid-1st millennium BCE. If Kubaba was a historical figure, she would've reigned a good 2000 years earlier, and probably even before the Semitic incursion that would result in Akkadian becoming the dominant language in the region. (That said, we know that several dynasties listed consecutively in the SKL actually reigned concurrently, so the chronology is a bit of a mess.).