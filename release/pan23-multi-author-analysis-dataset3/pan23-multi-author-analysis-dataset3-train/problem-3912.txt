So the proper way to do this is when he insured the car you should have been listed as the loss payee on the policy. Since he failed to do that, he now owes you the settlement value of the car. Feel free to sue him in small claims court (or regular court) to recover the costs. Should be pretty straightforward, I don’t think you’ll need an attorney.
Your friend is entitled to pain suffering and all that other stuff, but the car was your loss, not his. In a car accident, the vehicle is typically treated as a separate claim from any injuries because the value of the car is pretty easy to determine.
Remember the insured value of the car is the actual replacement value, not the amount a dealer would give you or and it’s also not the the private party value on KBB. The insurance company paid him based on going to a used car dealer and replacing the car right off the lot with as similar model as possible in your area with no negotiation and includes the cost of tax, title and registration.
Not true at all - the registered owner of the vehicle is entitled to the money from the at fault party's insurance company to repair or replace the vehicle.
If it's the at-fault driver's insurance (not friend's insurance), then OP is entitled to recover from the insurance company. Because, as you said, OP was the injured party.
I'm assuming that it's the not-at-fault driver's insurance that is paying, because the friend had full coverage. If so, then it's a privity issue - Friend recovers from insurance, OP recovers from friend. OP is entitled to the money, but not directly.