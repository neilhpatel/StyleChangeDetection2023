It's a bit unclear what you are asking. The question "were they a crime against humanity" could refer both to contemporary and modern law, and the law of war crimes has evolved a lot since WW2 so the answer - or at least nuances - aren't the same. I'll quickly address modern law, then talk about contemporary (ish) law.
Your question also has a lot of moral questions, but that's neither history nor law. Here i will only talk about Crimes against humanity as a legal (and historical) concept, not a moral one.
So, If the bombings in question were Crimes against humanity. Does it follow that ANY mass strategic bombing campaign is also a crime against humanity? There were Military targets in both cites. That was the justification for drooping the bombs there. If you drop one bomb that kills 100 thousand people or you drop thousands of bombs that also kill 100 thousand people (Both horrific no question) there is not much ACTUAL difference there. I believe more people died or were wounded in the Tokyo firebombings that in either of the Atomic bomb attacks. Few people seem to find issue with the strategic bombing campaigns of WWII. If only because a city was just about the smallest target that could be hit with high level bombing. Not Trying to say they are not or should not be crimes against humanity just curios why only using ONE bomb instead of many makes it worse?
So, yes, a use of nuclear weapons like Nagasaki and Hiroshima would be a crime against humanity if done today.
I am going to answer it in two parts: Firstly the usage of nukes in itself, secondly the specific usage of nukes in mass killing of civilians.
(1) The fact that nuclear weapons are legal, but can be illegal because of their environmental impact, is still one of my favourite legal funfacts.
It's worth noting that my book does say that if you are attacked with nuclear weapons you should legally be able to respond with the same thing under a doctrine of reprisals, which is an idea that you can respond with an illegal action in defence to an illegal action. I won't go into this.