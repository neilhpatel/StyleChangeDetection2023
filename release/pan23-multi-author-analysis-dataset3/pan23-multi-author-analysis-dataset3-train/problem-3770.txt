The US in the 1960s tried to strongly discourage Israel from getting nuclear weapons, because it feared that it would lower US freedom of action in the Middle East and increase the possibility of a Middle Eastern arms race. Israel did it anyway, going to great lenhs to deceive US inspectors.
The compromise was an agreement, negotiated by the Nixon administration, in which it was agreed that Israel would not "introduce" nuclear weapons into the Middle East. What does "introduce" mean? The US and Israelis hammered out a fig-leaf of an agreement: if you haven't tested a nuclear bomb, and you don't acknowledge you have a nuclear bomb, and you don't threaten anyone with a nuclear bomb â€” do you really have a nuclear bomb? Have you really "introduced" them into a region? Or are they all just hypothetical, on paper?
The fact that Israel has been known to be in flagrant violation since the mid-1980s (the Vanunu releases) has arguably weakened the power of this arrangement, as has their possible involvement in a test, and indeed there are many who claim that Israel should just admit to what everyone knows, and of course other nations in the Middle East (Iran, Saudi Arabia, perhaps more) are interested in nuclear weapons in part as a counter. So whether this policy has been _successful_ is a different question.
The US-India and US-Pakistan relationship is really complicated for exactly these reasons. The US considers both India and Pakistan key to its strategic aims in South Asia. Their testing in 1998 considerably complicated US relations with them. I don't have all of the details in front of me, but my recollection is that it imposed sanctions on both, but removed most of them under the George W. Bush administration. This has been widely criticized as hypocritical and "legitimizing" these non-NPT nuclear states.
Interesting that you stated that USA dont want to have connection to non-NPT nuclear powers. My follow-up question, tho very much off-topic - how does this affect USA - India relationship, since we know USA is for some time now turning to India as ally. Previously Pakistan was their important ally in region, but both Pakistan and India nrver signed NPT. Why is USA acting differently in that region than in Middle East?