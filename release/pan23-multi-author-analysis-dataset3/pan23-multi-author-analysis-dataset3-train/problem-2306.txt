To understand how barrel changes for battleships work, you need to understand how the guns themselves were constructed. The typical British naval gun used a wire-wound design, with the sole exception being the 14in Mark VII used on the King George V class. To make a wire-wound gun, you start with an inner steel forging, called an A tube. This was then wrapped with miles of 0.25 in wide strip steel - 117 miles in total for a 12in gun. The gun was given multiple layers of wire winding, with the thickness depending on the force exerted on that part of the gun when it was fired. The muzzle had the fewest layers, while the breech had the most, up to 75 layers. Then a two-part outer sleeve was shrunk on over the gun. The B tube covered 55% of the guns lenh from the muzzle back, while a thicker 'jacket' covered the same percentage of the lenh starting at the breech end. Finally, a breech ring, which contained the support for the breech mechanism, was shrunk on. Shrinking a part onto the gun involved heating it so that it expanded, then lowering it onto the cold gun to cool and shrink. The barrel was then taken to be machined, with the chamber, rifling and breech thread screws lathed out. The KGV's guns used a different procedure. The wire-winding step was left out. Instead, the A tube was pressurised as the outer layers were shrunk on. This put the A tube in compression, while the outer layers were in tension, ensuring that the gun stayed strong. Once the gun barrel had been constructed, the breech mechanism (manufactured separately) was screwed into place on the breech ring.
Guns were largely rebarrelled during major refits in port. Rodney had her gun barrels replaced during a February-May 1942 refit at Cammell Lairds in Birkenhead (and, later, in Liverpool's Gladstone Dock), for example. I don't know where the guns were stored, but my understanding is that they were typically brought to wherever the refit was taking place. The major gun factories in the UK were some distance from the shipyards where battleships were built and the dockyards where they were maintained; the Royal Gun Factory in Woolwich, Coventry Ordnance Works in Coventry or Scotstoun, Glasgow, Vickers-Armstrongs at Barrow or at Elswick in Newcastle and Beardmore's in Glasgow. These gun factories were where guns were produced, and where they had their linings replaced. From the factories, they had to be carried to the shipyards and dockyards by coaster, barge or train. This system also made it easier to refit ships abroad; Warspite had her gun barrels replaced during a refit at the American Puget Sound Naval Dockyard, using gun barrels shipped over from the UK.
I would assume naval guns would only be stored in one major base like Portsmouth or Rosyth, so did the BBs have to travel there to get their new shiny guns? Or would they actually transport the guns to the bases the BBs are already dry docked?