In addition to the thread already linked by u/kdfsjljklgjfg, I would also like to highlight my older answer , which explains why some modern scholars (including the world's most prominent authority on Sparta) believe that Sparta wasn't really all that militarised to begin with. When we look at Sparta, we're not looking at a society that minmaxed on militarism but didn't get the expected result. We're actually looking at a fairly ordinary Greek society that was the subject of much myth-making by outsiders because of a few notable achievements (mainly internal political stability). I cannot speak for all of history, but my baseline assumption is that something similar will apply to other societies that have traditionally been pigeonholed as "military cultures". Did such cultures ever really exist?
Second, if we do regard the Peloponnesian War as a single conflict, it does not reflect well on Sparta's military capabilities that it needed 27 years and a massive injection of foreign financial aid (from Persia) to achieve victory. It is clear that Sparta had no way to bring Athens to its knees except to challenge its rule of the sea, which it simply couldn't afford to do until the king of Persia got annoyed enough with the Athenians to decide to back their enemies.
In short, while the Spartans eventually succeeded in defeating Athens and dismantling the Athenian empire, it was not at all due to their traditional military strenhs, which were proven to be of little to no value in this war.
To what extent was Athens' inability to support itself off the countryside [and thus complete reliance on sea trade] the product of Sparta's superiority on land, with the attendant ravagings of Attica and the fortress at Dekelea?