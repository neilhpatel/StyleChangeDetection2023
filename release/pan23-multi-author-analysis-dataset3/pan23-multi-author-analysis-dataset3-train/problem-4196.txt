They can ask, but they can't make it a requirement for the job (outside of a very few where it might be an actual job necessity, like actors.).
In general, most companies that ask about that are just keeping records to make sure they're reaching a good cross-section of potential applicants, and to cover themselves if they have to explain why they didn't hire many minorities. (If they can show that 95% of the applications they got were from white men, they might avoid a fine and just be told to target their ads to more women and minorities.).
2. In California, New York, New Jersey, Illinois, and Washinon you cannot ask an applicant how much money they made at their last job.
1. In many states, it'll illegal to ask about a criminal record (and/or to run a criminal background check) until after a formal offer has been given. These are often called "ban the box" laws.
There are very few things that are literally illegal to ask on a job application or in an interview. There are tons of websites that claim all sorts of things are illegal to ask, and most of those are really dumb and dangerous to ask, but not illegal.