India is practically forced to have a relationship with russia, due to a large portion of their military being russian tech, and needs russia for repairs/ upgrades. Also the oil, which either directly or indirectly helps the citizens of the country (By either selling it locally at low prices or Selling it outside, increasing the amount of dollars with India).
This is probably why India is trying to diversify fast. Why it is trying to develop an indigenous military and why it is buying tech from various countries. This way, even if relationships sours, it wouldn't cripple the entire military.
War On The Rocks really put it in perspective - India is a behemoth tied to Russia in a lot of ways. That canâ€™t change overnight. But india is also getting a front row seat to a documentary on how bad a lot of their military hardware performs in a fight.
a lot of our Russian equipment is often a special variant with components from various countries. The SU-30MKI is an India specific variant of the SU-30 with Indian, French & Israeli components.
The reason India uses Russian military equipment is because the US sided with Pakistan in the 70's and wouldn't supply India, so India bought from Russia.
In modern times, India prefers Russia because they are willing to sell a few units and then transfer the technology to India, where it is produced domestically. The US doesn't do that.
During the Kargil war, the US refused to provide GPS data for the Kargil Region to the Indian military.
The GPS system is operated by the US space force(formerly US Airforce space command), so they can deny GPS access to any military in times of conflict.
USA also put sanctions on India for a few decades after India tested their first atomic weapon. No sanctions on Pakistan who did the same after some time. The sanctions were only removed partially during Clinton administration and almost fully during the Obama administration (if I'm wrong correct me).