I would be willing to bet money that the warehouse had an agreement with the staffing agency you two had been working for that controlled if and how they were able to directly hire the staffing agency's employees. That's incredibly common, and the remedy for the situation would be just what your boss is describing - the staffing agency would sue the warehouse for breach of contract.
It sucks that you two may the ones hit with all the fallout from this when you weren't the ones to do anything wrong - the warehouse should have let you guys know that they were unable to hire you based on that contract.
I'd be really surprised if there was a non-compete agreement for a janitorial position. But it's not uncommon for a staffing agency or a subcontractor to require their client companies to pay a fee for directly hiring one of their employees. That's above your paygrade though.
We werenâ€™t janitors we were lumpers. Sorry for the confusion. When trucks would come in with shipments and it was all on the floor not on pallets we unloaded boxes by hand and stacked them onto pallets.