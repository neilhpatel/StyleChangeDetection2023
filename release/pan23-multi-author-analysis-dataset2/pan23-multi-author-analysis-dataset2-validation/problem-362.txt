This is called "sextortion" and if you're a minor and he's pressuring you to create more child porn is is very possibly going to prison for a very very long time.
If he was dumb enough to write these threats in emails or texts, save them and give them to the police.
DO NOT GIVE HIM ANYTHING ELSE. DO NOT MAKE ANY ADDITIONAL MATERIALS YOU MIGHT BE COERCED INTO GIVING HIM LATER.
and, seriously, tell your parents/guardians. Even if they're angry with you or disappointed in your choices up to now, they will protect you. Even if you get punished it's better than the alternative.
If you don't feel comfortable talking to them, talk to a teacher or guidance counsel you trust or a member of the clergy.
Do you know this person IRL? if so, then you should call the police and report him for possession of child pornography, sextortion, and attempted production of child pornography among other charges. Tell the police he has threatened your safety and reputation if you do not agree to his demands.
You can go to the police. There is a very slight chance they could also charge you with production of CP. If you go this route you might want a lawyer.
He could doxx you, but that would show that he's in possession of CP and blackmailing a minor for illegal images. If you let the police know as well, any attempt at swatting could also get caught before anything actually happens.
You really should report this to the police and tell your parents. I know it's scary, but you need support right now and they're better equipped to help you.
If you report the threat to swat you to the police, the chances that they will show up with a SWAT team will be drastically diminished, because they know that this is a likely threat.