I’m not a lawyer and I’m not going to be able to help you unpack the details or advise you on the best course of action. I’m just saying that your chances of getting a helpful response here are going to be a lot better if you can provide all of the relevant information instead of forcing someone to invest time in dragging out a sentence or two from you at a time, because most redditors won’t bother asking for more info and will just move on to another post.
On the other hand, it’s reasonable and not uncommon for something like a bonus or educational expenses paid by the employer to be subject to repayment if the employee leaves within a specified period of time. The employer can’t force you to work for them forever, but they can ensure that they get a reasonable amount of benefit from the investment they are making in you. I don’t know if that would be applicable to base pay like this situation though - they can’t retroactively reduce your pay rate, but if she agreed to repayment upfront and it’s for a reasonable period of time, it’s possible it might be okay.
So the effective offer is a retention bonus paid out in regular installments over one year, followed by a raise. The structuring is somewhat unusual but there shouldn't be anything illegitimate about it.
When deciding whether or not to accept this frame your decision making to what the effective offer is.
Signing a contract is legal. The specific terms of the contract may not be enforceable if they do not follow the law of the jurisdiction. In other words, no one is going to be able to answer this question unless they know what she was agreeing to (what does “if it was broken” mean specifically?) and what state this is happening in.
Is there a time limit on it? An indefinite clause that she has to repay the entire difference between her old rate and her new one if she ever quits or gets fired, no matter how long it’s been, would be unreasonable on the face of it because one of those two things is eventually going to happen unless she works for them until she dies.
At-will employment, plus a clause stating this would trigger upon being fired, or quitting; could lend itself abuse on the former. If this was the government, that wouldn't be an issue; layoff = keep the bonus. The agreement itself could also be using boilerplate text; that's already being done to drive up non-compete agreements, even if they're non-enforceable.
Someone here already said ask a labor lawyer, especially if you're concerned about potential entrapment to repay the bonus.