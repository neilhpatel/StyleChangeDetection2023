Please . If after doing so, you believe this was in error, or youâ€™ve edited your post to comply with the rules, . Do not make a second post or comment.
Your state matters. If this were to become a criminal issue, the court would look at the totality of circumstances.
What you're describing -- saying "yes" but meaning "no" -- is exceptionally difficult for the legal system to deal with because it requires insight into the minds of both parties. Absent outside influence or other aggravating circumstances, they'll presume that the individuals were old enough to voice their concern.
Strictly from a legal standpoint, if all parties say "yes", and there's no element of incapacitation, coercion, or statutory barricade to consent (such as age or institutional relationship), and there's no power imbalance (such as an employer / employee relationship), then the court would likely find that consent occurred.
Counterpoint: your example as written is basically "popular student asks unpopular student for sex, unpopular student agrees, is this rape".
That's a classic example of presuming someone else's intention, and we don't do it. This reeks of "women only like assholes amirite". Whatever your intentions are, tread carefully.
He's not really exploiting a loophole or anything. If both parties verbally consent, and there are no aggravating circumstances, then it's consent. It's not reasonable to expect a party to say "okay, they consented (and there's no power imbalance, incapacitation, or any of the other issues outlined above), but I should assume they didn't really mean it".