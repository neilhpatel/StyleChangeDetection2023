See . Short version: Little Boy would have likely had a nuclear yield no matter what, it was just too much highly-enriched uranium in one place. Fat Man could have detonated improperly but it would have spread plutonium all over the place. It would not have been easy for Japan to recover it, and certainly not easy for them to have used it (they'd have to recreate the implosion design, which was not easy). There were no contingency plans in place that I have ever heard of. By the time they dropped the bombs they had sufficient understanding of the weapons to know that there were really no conditions that would be recoverable.
As for Imperial Japan, I wonder that even without offensive capabilities would they used an atomic bomb in a defensive use if the US had to invade if they managed to get access to enough material and know-how.
Follow up question from non-OP: I've heard that the plan was more or less to nuke Japan into oblivion if they still refused to surrender. Is that really true, or were there less brutal plans on the table as well, like a continued blockade?
Thank you for the answer, especially the link to the full write up. I did not know that they were so confident in it actually working.