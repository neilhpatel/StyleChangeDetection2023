Wonderfully written and explained. Like I said, I'm sure there are people on this sub with infinitely more experience on the topic than I have. Thank you for adding much needed detail to my reply.
I'm going to answer first what obligations States had under the Convention and the Protocol, and then briefly explain the effects of the Geneva Conventions and the CWC.
The Brussels Declaration never entered into force, although it did influence the content of the 1899 Hague Convention; and, the 1925 Geneva Protocol has a very mixed record of success.
The short version of this answer, from a legal perspective, is that WW1 can be characterised as either a situation of legal impunity, a si omnes situation, or an exercise of belligerent reprisal. As a result, saying the law was "violated' isn't necessarily correct. The law has since changed and modern international humanitarian law treaties don't allow the same kinds of derogations.
Before WW1, the law governing chemical weapons/asphyxiating gases was part of the Hague Conventions. The use of asphyxiating gas during war was prohibited. However, there were several limitations on this:
The Hague Conventions included a si omnes clause, which means that they only applied where parties to a conflict were all parties to the treaty as well. In a situation where, say, Montenegro wasn't a signatory - which was the case in WW1 - there was technically no obligation for any signatory States to abide by the terms of the treaty. The fact they did at all is a result of conduct resembling a gentleman's agreement (edit to add: I don't like this term for reasons that are explained below, but here it's 100% accurate). Notably, this means that during World War One the use of chemical weapons by the United States specifically wasn't in violation of the law, since it wasn't a party to the relevant treaty.
At the time, the law of belligerent reprisals (violations of international law in response to another violation) was a little more broad than it is now. A belligerent reprisal is intended to punish another country for violation of the law, by violating the law in return until they begin to comply.
In addition, World War One was kind of a unique time in that several of the rules of war broke down, and novel technologies were making their way to the battlefield. As /u/FlokiTrainer points out, nobody had ever really seen the effects of widespread chemical warfare before the first world war.
Several states, however, made no-first-use reservations to the Protocol, declaring that they considered it legal to use chemical weapons if another State used them first. This is similar to the way that several states since the 20th century have implemented a self-regulating policy of no first nuclear use, and ensures that a) the option to use a strategic weapon isn't completely prohibited, and b) they maintain a deterrent function.
All this means that already, from a legal perspective, latitude to violate or ignore the Geneva Protocol was more limited. That doesn't mean it was necessarily successful all the time; chemical weapons might not have been particularly popular tools during WW2 (in part because of the shared experience of suffering on the European continent), but they were still used, for example, in the Italian invasion of Abyssinia.
It's also no longer clear, today, if a reprisal in the form of a chemical attack following another chemical attack is allowed. The rule hasn't really been tested, and although it's allowed under the Geneva Protocol, the more recent treaty - the Chemical Weapons Convention - prohibits reservations, and the use of chemical weapons would violate it.
Lastly, the prohibition on the use of chemical weapons appears to have become a rule of customary international law (I unfortunately can't get into great depth on this point because the ICRC customary IHL study, in which the rule is most clearly illustrated, was released within the last 20 years, but if you're interested it's rule 74 and there is an in-depth analysis of the historic practice that created the rule). This means that between the actions of states and opinio juris (expressions of the belief of the existence of a binding rule), an unwritten rule has come into existence which binds all states, including those few who are not party to the Geneva Protocol or CWC. Customary law exists alongside treaty law, so certain countries are bound by three restrictive sets of laws at once.
The protocol does not have a si omnes clause. Its parties were bound to follow it, whether the other party to a conflict was a party or not.
After WW2, the entire way that we approach the laws of war changed. There was a shift away from simply regulating the means and methods of warfare (the Hague rules) and into the protection of different categories of person (the Geneva rules). When people talk about the Geneva Conventions, this second set of rules is what they actually mean - things like prohibitions on collective punishment, an explicit ban on targeting of civilians, protections for hospitals and so on. They also include, for example, restrictions on the use of indiscriminate attacks. These rules are generally accepted as part of customary international law, meaning they bind all countries. This shift can be seen as the beginning of a process called humanisation, which is the idea that the laws of war have become more attuned to the fact that human lives are involved.
It's debatable whether the laws of war re: chemical weapons were strictly violated during WW1, but if they were a culture of impunity and naivety about the effects of chemical weapons might be to blame. There were, however, legal avenues to justify the use of chemical weapons.
The Geneva Protocol, legally speaking, wasn't an absolute prohibition on the use of chemical weapons. It was still possible to make reservations, which undermined its effectiveness. That said, a combination of a stronger legal framework and a general memory of the pain of chemical weapons in Europe lent themselves to it having some success.
The laws of war generally have shifted pretty dramatically since the end of WW2, in ways that seriously limit the latitude of states to justify violations of the law. Specific to chemical weapons, their (non) use has been much more tightly regulated. Today, it is illegal under treaty law for almost all states to use chemical weapons aggressively; for almost all states, would be illegal under treaty law to use them in retaliation; and there is a rule of customary international law, binding on all states except persistent objectors (I can't think of a single one off the top of my head) prohibiting the use of chemical weapons.
edit to add: I want to contest the assertion in another answer that the laws of war are gentleman's agreements. They are much more than that, and represent a limiting factor on conduct in situations that have potential to be indescribably inhumane. Even when the rules are violated, states justify that breach with reference to exceptions contained within the rule; this, in itself, strenhens the rule. The Geneva Conventions, Hague Convention and the disarmament treaties are overall resounding successes, and the reason why violations of them make the news is precisely because they are the exception, not the rule. Certain aspects of the legal framework do derive from concepts of chivalry and moral conduct, but they are still laws.
Most recent edit: fixed some typos in the last paragraph, added "generally accepted as" when discussing customary law.