This question is so broad, the answer will depend pretty much entirely on what you want it to be. It would be easy to name many cases in which war produced technological innovations, but just as easy to cite many cases in which it didn't. Whichever point you want to prove, you can pick your examples to match. Someone who reads the question and thinks immediately of the World Wars will say "competitive arms development, and the wartime challenges of logistics and medical care, contribute to technological invention and improvement in ways that might otherwise have taken longer, if they would have happened at all." But someone who thinks of, say, the Peloponnesian War might answer "war is only a destructive force; the priorities and costs of war actually inhibit any technological development that might otherwise have received the necessary funding, manpower and thought." Whole swathes of human history attest to the fact that endemic warfare often produces anarchy and poverty, not innovation and technological change.
This is complicated by the question whether the particular technologies developed in wartime (and for the sake of fighting wars more effectively) actually matter outside of that context. Wars may make a society better at fighting wars, but does that help anyone in society at large? It's easy to point at technologies that were invented for a military purpose and have since made the leap into civilian life; but similarly, it's easy to point at technological innovations (like, say, siege towers or anti-tank shells) that serve only to solve military problems and don't contribute anything to the way people live.
The guide you offer into these hugely subjective topics is that you're asking whether society needs war as a way to propel technological change. The implied assumption is that without wars, such change might not happen at all, or at a much slower rate and in fewer ways. This framing would theoretically allow us to put all of the war-related technology of history onto a big pile and ask (passing by the question whether all of it has a use in society) whether war was needed to produce all that, or whether it would have been developed regardless. But the problem there is that there's no cut-and-dried distinction between "war tech" and "civilian tech." They build on each other. For example, the steam engine was invented in an entirely civilian context and applied first in industries like mining and cloth making. But then it was adopted by navies to propel ships, which then kicked off a host of military innovations related to the new energy source. Modern tanks may be marvels of offensive and defensive technology, but the first tanks were designed around readily available agricultural tractor chassis. Does society need war to generate more advanced technology, or does military technology need society to produce things that allow it to develop?
Any answer will inevitably devolve into a chicken-and-egg question. Who actually owes whom for what? Which innovations can militaries wholly claim (especially given that modern military technology is developed in a network of government contracting and liaison with civilian industry)? Can we isolate the improvements made during certain conflicts and can we assume they would not have been made without those conflicts? How do we define "need" when we say that society needs warfare to propel technological change?
Such questions can only be answered on a case-by-case basis. Technological improvements need to be seen in their historical context: not just the when and why of their development, but the origins of their parts and their principles. You don't just randomly come up with radar or nuclear fission to fight wars better. Similarly, society at large doesn't just sit there waiting for the boffins at the War Department to give them these things to play around with. The development of new technology is a process with different people contributing for different reasons - some in the military, some in universities, some in their shed or their study. It's impossible to say categorically which side needs the other to make any progress.
In short, we can't simply answer this question one way or the other. It is uncontroversial that research spurred on by war has contributed substantially to the improvement of existing technologies and the development of new ones (especially in recent times). After all, people invest ingenuity and resources in things that matter to them, and warfare has tended to matter a lot. On the other hand, it is also uncontroversial that technological innovation happens outside of the military sphere, and that militaries benefit substantially from this. It is also presumably uncontroversial that war is not primarily a creative force, but one mainly interested in enhancing its ability to destroy. Any attempt to resolve these contradictions in a single universal truism about war's influence on technology seems futile to me.
Just as importantly, the mere existence of a military conflict does not speed up military innovation; there needs to be a context in which new technologies are available from other spheres and new technology is thought to offer opportunities for major tactical or strategic advantage. If these conditions are absent, wars will simply be fought in the tried-and-tested manner until one side wins. Many resources will be spent or destroyed in the process. It's not by definition an ideal environment for the development of different technology.
I haven't done any kind of survey, but my suspicion is that until the 20th century, serious technological innovation that started _specifically_ for military purposes was pretty rare. This is not to say (as you indicate) that things cannot be reappropriated. But in general (again, wide generalization) nascent technologies tended not to be promising enough for the military to think about adapting them for military purposes until they were really quite developed, and that required a civilian and industrial context first. In the 20th century, you got an obsession with "wonder weapons" being the magic ends of wars, and that led to far more R&D and even use taking place prior to technological maturity. But this is a broad generalization, and one can imagine exceptions, especially with a broad view of "technology.".
I think this is what I would really emphasize here. There were many wars that resulted in no novel technological developments of any consequence. Arguably most of them prior to the 20th century. The _context_ of the possibility of war, prior to the 20th century, certainly drove some developments, but it's not until the 20th century that you get the industrial-scientific-military-governmental capacity to do rapid R&D on the fly to quite that degree.
World War I and especially World War II were turning points in this arena, where we saw multiple novel technologies emerge "fully formed" over the course of the wars out of the barest of ideas in the pre-war. The emphasis put on science and technology in ending WWII (notably the atomic bomb) caused a lot of people in the 20th century to identify war with technological development as a going concern. But both of these contexts were rather late developments in human history (the US, for example, did not have any effective means of translating science and technology into military results until the run-up to WWII â€” they entered WWI without even a significant stockpile of gas masks and had to scramble to produce them).
If one looks at the history of R&D for war in the 20th century, one finds that these contexts had to be very deliberately created. The US technological developments in WWII would not have been made had not a deliberate context for their development been created; Vannevar Bush is typically given the credit for both the foresight and the action here, convincing FDR to create two new federal agencies to coordinate and produce this kind of work.
As I said and as you elaborated, the key point is that there needs to be a situation in which those with resources believe it could be advantageous to explore a particular technology for military ends. This is itself a cultural phenomenon which hasn't always existed in military circles. Despite the major leaps in military technology in the 19th century, for instance, military theory of the period emphasised "universal" human factors like morale and leadership far more than technology, and often expressed a belief that no amount of advanced tech could achieve better results than courage and cold steel.
There are plenty of examples from the ancient world, which is why I figured this was a question that might call for a wider perspective on military history. But it's true that ancient states didn't exactly have a military R&D budget, or even an interest in gaining an edge over an opponent in the technology they used.
But do we really have enough information about the genesis of the technology in question to say what its developmental context was? E.g., can we really say with any certainty, "this is how X was developed" for ancient technologies? We can certainly say how they were _used_, but that's a separate question from the context of development/discovery/etc.
With sufficiently high demands of detail and precision, Antiquity can always be ruled out of any comparative argument. But I'm thinking here of purely military technology, such as torsion artillery, siege engines and multi-oared warships; all these saw notable developments that are recorded to some extent in our sources.
Right, I'm not disputing that they developed military technologies (of course they did). But I'm asking whether or not we actually know enough to say "what drove what" in these cases (military vs. non-military), or even the nature of these developments (e.g., what "R&D" looked like).
I'd also argue that all of those military technological advancements in ancient times tended to be ad hoc rather than dedicated initiatives. E.g. the Corvus.