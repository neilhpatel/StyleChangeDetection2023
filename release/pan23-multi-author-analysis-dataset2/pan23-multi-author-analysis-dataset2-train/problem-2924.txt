What specific ingredient are you allergic to? Pfizer and Moderna have the same active ingredient, which is why the tech may not have understood your concern.
Now about this "reaction". What symptoms did you have. Are you sure it's not a severe immune response which is expected after a vaccine.
Make a complaint to the state's board of pharmacy, as well as the store's DM. While pharmacy is being overworked across the board, they still need to ensure the right drug goes into the right person. Legally, I'm not sure what you can do. Ethically, they messed up. That tech messed up. Complain, make your voice heard.
Well, that may be what's behind this. The active ingredient is identical and the inactive ingredients are mostly innocuous things like lipids (fats), acids and acid stabilizers, salts, and sugars. Those are a little bit different, but I'm confused that your doctor didn't tell you to wait for Novavax or get J&J if s/he felt you were "allergic" as opposed to "had a pretty obnoxious case of side effects.".