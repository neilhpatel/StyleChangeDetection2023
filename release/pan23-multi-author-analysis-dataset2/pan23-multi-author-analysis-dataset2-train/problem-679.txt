It can go a few ways in court, afaik. It may be argued that pet rent was not owed after the animal became an ESA (5 months after move-in). Otherwise, if the tenant already had the animal upon move-in, you already have proof from their letter that at that point in time it was not an ESA, so pet deposit and rent was owed. Nevertheless, ESA only exempts tenants from paying a pet deposit and pet rent, not damages to the unit. If your intention is to just be made whole regarding the damages, you need to frame this correctly. You hold some money from the tenant and they owe you for damages. Might have to forego pet rent after the factual date on the ESA letter. That's the worst case scenario. Best case scenario, as someone already mentioned, if they never notified you during the whole tenancy, then it was just a pet. It was in their interest to properly classify their pet as an ESA.
Even if the animal was an ESA, they are absolutely still responsible for damages done to the apartment by the animal. Being an ESA does not negate that.