If you are looking at a town with construction pressed right up against the old city walls, you can bet with near-certainty that those constructions are actually fairly recent. I wrote about medieval urban density in a number of answers, most recently .
A follow-up question: I'm not European so I never quite understood why European homes were built forming "squares/blocks", with empty space in the center. Was there a purpose for that space? In modern low income areas, almost every available space is used for, well, housing, what made that different back then?
What I think you are describing would be called a "Cortile," or courtyard, and in Italy and its widespread incorporation in housing is actually fairly recent. It has its origins in the courtyards found in houses of the aristocracy, where these spaces allowed for interior windows to provide light and ventilation to inner rooms. These courtyards could also serve as a convenient transition from indoors and outdoors in aristocratic homes which housed stables, as well as allowing outsiders bringing in things like livestock to unload their produce without actually entering the building. Lastly, they could be arranged into gardens, providing residents with outdoor respite without leaving the walls of the aristocratic home.
It was not uncommon for unused or undesired aristocratic homes with a courtyard to be cut up into apartments for middle-class tenants (and their ground floors to be converted to workshops) and this trend would only accelerate after industrialization as not only aristocratic palaces were converted into apartments and offices, but also more modest upper-middle-class single-family urban residences (some of which were also built around courtyards) were converted into apartments which if particularly dark, poorly ventilated, or bereft of modern amenities, would attract lower-middle-class or working-class residents. However, most most urban housing for middle and low income urban dwellers did not have a courtyard until after industrialization.
Only in industrialized Italy did the majority of both middle and lower class architecture include courtyards, however their function was slightly different depending on the social class that the builders targeted for tenants. I think most of the courtyards you as a visitor will have encountered are those in middle-class housing. It might be surprising to learn that many residential buildings in Italian cities decorated with stately ornamentation recalling the architectural lines of the renaissance are actually fairly recent, built sometime over the course of the late 19th century and the first half of the 20th century: While these buildings were intentionally designed to mimic the grand palaces of the Italian aristocracy, they were actually intended to attract the emergent middle class. In an era before climate control technology, the courtyards in these buildings performed much of the same function that they did in aristocratic homes, letting in light and air to rooms throughout the building. In the post-Second World War era some of the luckier apartment buildings would attract upper class residents unwilling or unable to maintain grand urban residences, and could spend money money to decorate and enrich their shared courtyards. Other apartment buildings intended for middle-class residents were less fortunate, so to speak, and were located in neighborhoods which ended up not attracting high income residents. As this second category of buildings aged their value declined, they came to house lower-income residents, and they did not spend as much money in keeping up and restoring courtyards. So looping it back to your personal experience, this might be why your comfortable but inexpensive and slightly run down holiday rental apartment was in a building with a courtyard.
But most prominently, working-class apartment blocks built in industrializing Italy also often ended up with a courtyard, only for different reasons compared to middle and upper-class housing. With early health and hygiene laws focused mostly on keeping public streets clean, builders of working-class housing in cities like Milan and Turin chose to relegate services like outhouses, washing spaces, and domestic work the back of the building. The most efficient way to do this was by providing an open space at the rear. Commonly termed "Case di Ringhiera," or "Handrail Houses," these kinds of constructions are characterized by having all apartments on a single floor accessed by a common inner balcony (with an iron handrail, giving them their name). They were very dense and very cheap to build: they are fundamentally a line of two-room apartments along four or five floors, with no space inside the structure dedicated to anything other than housing. This model was very versatile, and could be built on a verity of lot shapes, meaning they could end up wither with a closed courtyard, or U-shaped, C-Shaped, or L-Shaped, or even just I-shaped. The Casa di Ringhiera would remain a popular layout up until the 1950s, when housing policies were devised to get people out of dense neighborhoods and into airy public housing, and housing subsidies also incentivized builders to provide housing that was less dense (I don't know what your frame of reference is, but generally in countries like Italy or France a much higher proportion of people live in public or subsidized housing compared to say, the United States). However, very many of these buildings survive to this day 9they have, predictably, have had modern amenities installed to conform with modern building codes).
I don't know what your frame of reference is, but the Case di Ringhiera might actually just as dense (and cheaper) than some other tenement-style housing you see in places like United States. Consider that tenements in places like New York are largely dumbbell-shaped, with spaces (however narrow) between buildings to allow ventilation. Now imagine if the stairwells were uncovered, and bathrooms (even if they were communal) were eliminated and replaced with outdoor outhouses. I think the open space would come out to be about the same, revealing (if you'll allow a bit of proselytizing) that builders are just as unscrupulous the world over.
I would just like to mention I never visited Europe, I only seen maps of cities with those squared "hollow" housing blocks, but like you said they're probably a lot more modern in origin than I thought.