It takes a long time to train crew and set these things up. They are very complicated. And the Iranian drones were unforeseen. They're also asymmetric because of the vast difference in costs between them and a missile with effective range needed to create a layered anti-air system. Only short range AA systems can be cost effective but since the drones can appear anywhere and are simply used on infrastructure if no military targets are around they need lots of such AA so they aren't really as cost effective. Particularly because they can always just be swarmed and overwhelmed. Might just be more effective to rebuild infrastructure later. There might not be answer that is reasonable, other than giving Ukraine even better offensive weapons to try to bring the war to a close sooner.
Not just resupplying, but enhancing is needed - with long range systems capable of hitting targets in Crimea and supply lines deep within Russia itself.
Especially with it looking like Iran will imminently supply short range (still hundreds of km) ballistic missiles to Russia. These will be very difficult to defend against, so the only deterrent would be the ability to destroy the launchers and stockpiles from afar.
We should have had anti aircraft and anti missile systems delivered with training long before these latest attacks on the grid and civilian structures.