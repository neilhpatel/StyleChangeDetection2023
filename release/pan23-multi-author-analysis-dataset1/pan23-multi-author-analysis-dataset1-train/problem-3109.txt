Despite not being a castle history expert, allow me to shed some light on the subject. However, first the obligatory too long didn't read: the stereotype as films have portrayed it originated most likely from a 19th century politician named Benedetto Croce (Italian in origin). In reality we have no evidence that any self-sustaining castle intentionally contained a crocodile in its moat. Now for the longer explanation.
This is absolutely fascinating. The concept of a bear pit is positively badass, as for the Castel Nuovo, what a humorous and romanticised image of Joanna II. Thank you so much for such a thorough and detailed answer! This is exactly the kind of answer I was hoping for.
A moat by function is rather hard to maintain; many castle moats of the medieval and even late 16th century fell into disrepair and as a result it resembled less of a circular water defense pool and more of an algae-filled bug-infested bog surrounding a grand estate. By its very nature moats demand constant draining and cleaning, so the very idea of creating a moat in order to keep a wild and dangerous animal inside of it beckons a whole new plethora of issues. However, even by its function a dry moat is just as good as one filled with water, so many castles in later eras did away with the troubles of filling up their moats and made "dirt pits" to deter enemy forces from assaulting them head-on.
Of course, the equally stereotypical image of enemy soldiers floundering in dirt pits or drowning in moats is rather interesting; as moats themselves were mostly designed with the intention of stopping a favourite staple of siege warfare: tunnel digging. The principle was that a moat would prevent enemy forces tunneling underneath the original walls and simply causing them to collapse from the inside (if that moat had water in it, then so much the better to drown enemy soldiers underground).