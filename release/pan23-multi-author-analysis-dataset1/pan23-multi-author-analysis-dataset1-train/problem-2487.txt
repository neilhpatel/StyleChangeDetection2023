_In general_, when one is thinking, "how hard is it to write a history book?", remember that in a PhD program, a candidate spends 2-3 years just "catching up" with the literature and learning to think like a historian through guided coursework (and writing lots of small papers that are giving practice and that they are getting feedback on), and then they spend 3-5 years researching and writing a book-lenh project (the dissertation). So a typical history dissertation takes 5-8 years for someone who is coming to the subject of history for the first time (after that, sometimes scholars can write a book in as little as a year, but by that time they're deep into how it works, and are not usually totally "switching gears" between wildly different aspects of history).
What does this mean for you? If you want to write history and do it well, you need to be trained as a historian. That will let you write books that advance the field. But if you want these books to be read by a wide public audience, you also need to be trained as a creative writer with a specialty in narrative non-fiction or journalism. It'll take years of hard work and it rarely pays the bills, but if that's something you want to do, it can be a lot of fun.