Arizona v. Gant (2009) â€“ The U.S. Supreme Court ruled that law enforcement officers can search automobiles following arrest only if the person arrested "could have accessed his car at the time of the search." In other words, if the person arrested could conceivably reach into his car for a weapon, then a search based on officer safety is permitted. Otherwise, the old practice of allowing officers to "search [a car] incident to arrest" is no longer allowed, unless the police have reason to believe the vehicle contains evidence of the offense of arrest.[9].
Besides the search incident to arrest, there is the automobile exception for warrantless searches. If the officer said he saw the passenger shoving something in the side door, then the officer had had the authority to search the car based on a suspicion of contraband.
After finding the contraband in an area of the car that everyone had access to, the officer could charge everyone in the vehicle. This is especially true since it is your car.