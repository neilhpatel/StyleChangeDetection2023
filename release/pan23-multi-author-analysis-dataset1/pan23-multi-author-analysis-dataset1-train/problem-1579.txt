Generally, an employer is allowed to have more restrictive policies than state law. They could refuse to hire you if you smoked tobacco products, even though it's perfectly legal in the country.
Employers may implement policies requiring drug testing or fitness-for-duty evaluations for employees and prospective employees. However, you may not discipline, terminate, or refuse to hire an individual because a drug test yields positive results solely for 11-nor-9-carboxy-delta-9-tetrahydracannabinol, a metabolite formed in the body after cannabis is consumed...
Even if you have implemented a policy prohibiting employee cannabis use or possession, you may not terminate or take adverse action against an employee or prospective employee for cannabis use or lack of use before the individual was employed by your organization...
Employers who implement policies prohibiting employee possession or use of cannabis must ensure the policy is: (1) in writing in either physical or electronic form; and (2) is made available to each employee prior to the enactment of the policy and to all prospective employees when offers or conditional offers of employment are made.