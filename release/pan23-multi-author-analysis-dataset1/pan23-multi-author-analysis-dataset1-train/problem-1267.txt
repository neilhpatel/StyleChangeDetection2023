Schools all over the world will deny enrollment without vaccine records being presented. Ethiopia and other countries will deny entry without proof of polio vaccination. The UK is proposing a "vaccine passport" that would take the verification out of the individual's hands and put it at the government level. You could opt out of getting this passport (if it becomes real) but countries and others could opt out of allowing you to enter or to stay, and airlines you opt out of allowing you to fly. Employers can refuse to allow unvaccinated people to work (outside of medical exemptions). All of that is legal.
Essentially, I could have had the shot for COVID, but at the same time have tuberculosis or some other nasty contagious disease that could cause even more problems than me - a person with a negative PCR test who will self-quarantine for 10 days, wear a mask, wash hands and keep social distance.
Yes and yes. Most discrimination is legal. And you aren't being refused service based on confidential medical information. Information is just information, and you gave the information. If people want it to be confidential they can choose to keep it confidential, but there are many areas in which vaccination records are required to allow for something else.