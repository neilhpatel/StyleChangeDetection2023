In the US Navy, the Arleigh Burke class destroyers (the most common American surface combatant) all carry a 127mm gun. The Zumwalt class, which was intended to replace the Arleigh Burke class before being cancelled due to cost overruns, carries what's called the Advanced Gun System (AGS), which is exactly what it sounds like. As a side effect of the Zumwalt cancellation, however, there's no ammunition for the AGS and it can't be used in practice. Other American surface combatants also carry artillery.
This was not at all a given, especially at the time. The threat of enemy surface ships to carriers was considered extremely significant, and almost all purpose-built fleet carriers of the 1930s and 1940s had an armor belt rated to defend the ship against surface gunfire. The Illustrious class extended the face-hardened 4.5" belt to the side of the hangars, rated to defeat 6" shells directly from the beam at 7,000 yards and 4.7" shells at all ranges. In his US Carriers and US Cruisers Norman Friedman discusses how absolutely critical it was for cruisers to act as carrier escorts, with the US facing a major cruiser shortage in 1941: we had 18 completed heavy cruisers, with a required escort of two for each of our seven fleet carriers, leaving just four reserve. I do not know the standard escorts for British carrier during the war, but the Japanese assigned two of the Kong≈ç class capital ships, both Tone class heavy cruisers, and a squadron of destroyers (with a light cruiser as leader) to the carrier fleets (either the First Air Fleet or the Third Fleet) for most of the war, and the operations generally had around eight of the most modern destroyers with the carriers.
This is by far the most important point. Aside from the effectiveness of missiles vs. naval guns the big difference between the two is logistics. On the one hand you have guns which require dozens of trained sailors to fire, along with enormous turrets connected to magazines. And all of that needs to be well protected because it's such a huge investment in resources to create so you necessarily end up with a large, heavily armored ship that ends up costing about as much as a carrier. On the other hand you can pack an equivalent or greater destructive capability with the capacity to hit targets on land, in the air, on the sea, or under the sea in the form-factor of a light cruiser or a destroyer.
And when you compare the destructive capabilities of a fleet of guided missile cruisers representing a similar cost in terms of manufacturing, resupply, maintenance, and crew it's just absolutely no contest, the cruiser fleet blows the battleship out of the water every single time. The US only built 8 total battleships between the Iowa and South Dakota class, because they are expensive as hell and they took years to build and commission. For the same resource investment you can build dozens upon dozens of guided missile cruisers.