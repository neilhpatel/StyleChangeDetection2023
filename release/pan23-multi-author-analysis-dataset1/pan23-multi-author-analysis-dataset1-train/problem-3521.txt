Tom Reiss wrote a biography of Thomas-Alexandre Dumas called The Black Count: Glory, Revolution, Betrayal and the Real Count of Monte-Cristo. In it, he argues that Dumas was rarely discriminated against once he gained rank in the French Revolutionary Army, and that Napoléon's late discharge of Dumas was more a result of rancour than racism.
Dumas would rise in the Army, the ideals of equality under the law of the Republic helping him go from a slave sold by his father to general-in-chief until Napoléon ended his career and brought back discriminatory laws from the monarchy years.
I would agree with that assessment. As Micheal Broers put it quite well in his biography of Napoleon, Napoleon was more convinced by the arguments that Haiti should be brought in line with the Empire, and Napoleon personally viewed Touissant as a growing threat to his power. Indeed, Napoleon was initially on the fence regarding St Domingue, but Toussaint's independent line of thinking and his invasion of Spanish Haiti contrary to Napoleon's insistence not to turned Napoleon against him. Napoleon was also influenced by the influential pro slavery faction (abolitionists were largely out of favour), as well as British and American concerns of a possible inspiration for their own slave owning colonies. Jefferson especially was very worried and offered the French aid. I would disagree that in other colonies Napoleon personally reinstated it. He did not, rather it was done by local governors with Napoleon accepting it after the fact. Napoleon personally was indifferent to slavery- and it shows as he outlawed it in a political gambit in the Hundred Days, something the Bourbon king was reluctant to do.