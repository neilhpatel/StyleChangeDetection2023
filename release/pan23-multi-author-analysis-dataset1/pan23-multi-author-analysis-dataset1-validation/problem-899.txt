I am not sure about Hamburg, but in the case of Bremen the zoning of Germany among the Allies following WWII is an important aspect which also answers the question about Bremerhaven being part of Bremen.
In short: Bremen today is a city state because unlike the surrounding area it was part of the American occupation zone after WWII. In the 1949 founded BRD it remained as its own Bundesland.
Hamburg and Bremen were among the few stronger survivors of these processes, which is why by the end of WWII the era of their independent city rule is still in living memory, while, say, a small city republic like Lindau at the Bodensee (Lake Konstanz) had already been subsumed by Napoleon into Bavaria by 1806, and had in Nazi times been romanticized as the "old" mythical medieval Germany, developing a significantly different flavor of a more "medieval" character, while someone from Hamburg would still proudly tell stories of their cities' independence until just recently. Hamburg and Bremen had existed post industrialization as city states - the other medieval city republics had not. Ergo in 1947/8, when modern Germany's founding fathers were writing up their new constitution looking towards a modern industrialized society, they were arguably not looking to reintroduce a reactionary image of a quaint medieval Germany that the Nazis had celebrated, especially given that the public had no appetite whatsoever for looking back.
Good correction. I didn't include Berlin because I can gather the post WW2 division of the city plus it's seclusion from the rest of West German probably had a good deal to do with why it is it's own city state.