The compromise was an agreement, negotiated by the Nixon administration, in which it was agreed that Israel would not "introduce" nuclear weapons into the Middle East. What does "introduce" mean? The US and Israelis hammered out a fig-leaf of an agreement: if you haven't tested a nuclear bomb, and you don't acknowledge you have a nuclear bomb, and you don't threaten anyone with a nuclear bomb â€” do you really have a nuclear bomb? Have you really "introduced" them into a region? Or are they all just hypothetical, on paper?
The question is more complex legally, however, than whether Israel has "deliver[ed] nuclear enrichment equipment, materials, or technology to any other country on or after August 4, 1977, or receive[d] such equipment, materials, or technology from any other country on or after August 4, 1977". The US government, for example, takes the position that the statute doesn't require a determination, but leaves it to the discretion of the President. Continued Congressional appropriations to Israel indicate a lack of Congressional concern with this, as well, and that satisfies the other branch of legal interpretation, generally. A public reveal of the nuclear arsenal might lead to pressure on the President to make a determination on transfers of nuclear technology, but that's not necessarily guaranteed, either. It's likely that public relations on that ground is what really prevented it, rather than a likelihood of legal loss. Even if Israel did acknowledge it, the legal arguments are far from settled. Not only does the issue go beyond what the President's level of discretion is, but it also goes to enforcement. There's a serious question as to who could actually force any compliance with the law, even if discretion was not allowed for the President, because standing is difficult to establish in this type of case, and it poses a political question, two additional arguments the US has employed on similar issues.
How likely is it that there was a test? I believe you're referring to a southern hemisphere island test with the cooperation of the South African Apartheid regime (correct me if I'm wrong, please).